# 登录系统设计

## 前言

> 针对这个登录系统来说呢(这里就有读者要问了，为什么叫系统，好吧，笔者也就想这个东东显得高大上点嘛，其实就是一个登录页面界面逻辑设计吧。)，笔者也是因为项目有点忙，完工时间的确慢了点，不过捏，笔者个人觉得界面看上去似乎还行，为了方便呢，笔者后期看有没有时间写成一个组件，以后就碰到要做登录就直接搬过来用，看起来这主意还不错。 不得不提的是，笔者看到 PanJiaChen 大佬的 ID 时内心的鸡冻简直无以复加，毕竟个人还是挺崇拜花裤衩大佬的。

## 设计技术及框架

技术栈：`HTML`、`SCSS`、`JavaScript`、`Axios`
框架：`Vue-Cli`、`Element-UI`

## 功能实现

- 手机号格式校验
- 验证码获取并限制一定时间内验证码的获取，进行倒计时读秒
- 获取到验证码自动填充
- `axios`拦截器控制页面加载效果实现
- 密码长度限制
- 提交统一校验并校验验证码是否正确

## 设计思路

### 手机号格式校验

这里呢笔者采用的是正则配合`ELement`的校验机制来实现的自动判断用户输入的号码格式是否正确，这个框架的自定义校验这个东西的灵活度还是很高的。

至于手机号前面的区号，笔者原先打算用户一旦进入页面就自动爬取某个国家区号大全网站上的这些数据，可是后来转念一想，这样做就可能有点麻烦了，也没必要吧，所以呢，笔者在这里直接用了一个对象来导出对应数据，这样既减少了网络请求，也不会有太大延时吧。

### 获取验证码以及倒计时功能

其实吧，这个地方也没啥好说的，说白了就是请求接口，获取返回数据并触发倒计时处理函数，隐藏界面中获取验证码的按钮部分，用另一个不可点击的标签代替，并对他绑定的数据进行动态更新。这里笔者利用的是`Vue`的双向绑定机制+定时器功能实现，到达六十秒之后清除该定时器。

### 获取到验证码自动填充

好吧这个就真的没啥说的了，就是一个双向绑定机制吧。

### axios 设计

这个部分笔者是封装了一个简单的`axios`拦截器，用来监听发起请求就拉起加载界面，请求完了就关闭加载，这个也是配合`Element`实现的(说实话，`axios`这个拦截器还真好玩)，笔者把`axios`封装部分放在了`utils`文件夹下，分个类总是好的。

### 限制密码

额，其实笔者想把这个介绍部分去掉的，感觉有点多余了，毕竟这跟手机号码验证有啥区别呢，`element`校验真好玩。

### 验证验证码正确度

简单需求粗暴对待，收到请求就保存一份，然后用户提交的时候比对一下，看对不对，感觉这个功能有点无聊了，哈哈哈。
